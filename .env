# Environment Configuration Examples

## Development (Stub Providers)

```bash
# .env.dev
PORT=8080
ENV=dev

LLM_PROVIDER=stub
OCR_PROVIDER=stub

JOB_QUEUE_SIZE=100
JOB_WORKERS=2

TIMEOUT_SYNC_PROCESS=4s
TIMEOUT_INK_RECOGNIZE=8s
TIMEOUT_LLM_REQUEST=20s
```

## Production - OpenAI + Azure Ink Recognizer

```bash
# .env.prod
PORT=8080
ENV=prod

LLM_PROVIDER=openai
LLM_API_KEY=sk-proj-xxxxx...
LLM_BASE_URL=https://api.openai.com/v1
LLM_MODEL=gpt-4-turbo
LLM_TIMEOUT=20s

OCR_PROVIDER=azure
OCR_API_KEY=xxxxxxxxxxxxxxxx
OCR_BASE_URL=https://westus.api.cognitive.microsoft.com/inkrecognizer
OCR_TIMEOUT=8s

JOB_QUEUE_SIZE=1000
JOB_WORKERS=4
JOB_MAX_RETRIES=3
JOB_RETRY_BACKOFF=2s

TIMEOUT_SYNC_PROCESS=4s
TIMEOUT_INK_RECOGNIZE=8s
TIMEOUT_LLM_REQUEST=20s
```

## Production - Qwen + MyScript

```bash
# .env.qwen
PORT=8080
ENV=prod

LLM_PROVIDER=qwen
LLM_API_KEY=sk-xxxxx...
LLM_BASE_URL=https://dashscope.aliyuncs.com/api/v1
LLM_MODEL=qwen-max
LLM_TIMEOUT=20s

OCR_PROVIDER=myscript
OCR_API_KEY=xxxxx
OCR_BASE_URL=https://api.myscript.com
OCR_TIMEOUT=10s

JOB_QUEUE_SIZE=1000
JOB_WORKERS=4
```

## Kubernetes Secrets

```bash
kubectl create secret generic llm-secrets \
  --from-literal=openai-key=sk-... \
  --from-literal=azure-key=... \
  --from-literal=myscript-key=...

kubectl create secret generic ocr-secrets \
  --from-literal=azure-key=... \
  --from-literal=myscript-key=...
```

## Docker Compose

```yaml
version: '3.8'

services:
  aiservice:
    build: .
    ports:
      - "8080:8080"
    environment:
      - PORT=8080
      - ENV=dev
      - LLM_PROVIDER=openai
      - LLM_API_KEY=${LLM_API_KEY}
      - LLM_MODEL=gpt-4-turbo
      - OCR_PROVIDER=azure
      - OCR_API_KEY=${OCR_API_KEY}
      - JOB_WORKERS=2
    depends_on:
      - redis
    networks:
      - app-network

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
```

## Running with different providers

```bash
# Development with stubs
go run cmd/server/main.go

# OpenAI + Azure
export LLM_PROVIDER=openai
export LLM_API_KEY=sk-...
export OCR_PROVIDER=azure
export OCR_API_KEY=...
go run cmd/server/main.go

# Qwen + MyScript
export LLM_PROVIDER=qwen
export LLM_API_KEY=...
export OCR_PROVIDER=myscript
export OCR_API_KEY=...
go run cmd/server/main.go
```
